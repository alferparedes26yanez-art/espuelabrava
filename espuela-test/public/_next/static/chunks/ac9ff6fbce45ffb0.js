(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,59145,(e,s,t)=>{s.exports=e.r(2905)},93172,e=>{"use strict";let s={usuarios:[{user:"admin",pass:"8888",nombre:"Dueño",saldo:0,rol:"admin"},{user:"cliente1",pass:"1234",nombre:"Juan Pérez",saldo:500,rol:"cliente"},{user:"cliente2",pass:"1234",nombre:"María García",saldo:300,rol:"cliente"}],cuota:1.8,apuestasAbiertas:!1,tiempoRestante:0,apuestasActuales:[],numeroPelea:1},t=[],a=()=>{t.forEach(e=>e())};window.mockDB=s,e.s(["authService",0,{login:async(e,t)=>(await new Promise(e=>setTimeout(e,300)),s.usuarios.find(s=>s.user===e&&s.pass===t)||null),getCurrentUser:()=>{let e=sessionStorage.getItem("currentUser");return e?JSON.parse(e):null},setCurrentUser:e=>{e?sessionStorage.setItem("currentUser",JSON.stringify(e)):sessionStorage.removeItem("currentUser")},logout:()=>{sessionStorage.removeItem("currentUser")}},"betService",0,{realizarApuesta:async(e,t,r)=>{if(await new Promise(e=>setTimeout(e,150)),!s.apuestasAbiertas||s.tiempoRestante<=0)throw Error("Las apuestas están cerradas");let o=s.usuarios.find(s=>s.user===e);if(!o)throw Error("Usuario no encontrado");if(r>o.saldo||r<=0)throw Error("Saldo insuficiente");return o.saldo-=r,s.apuestasActuales.push({user:e,opcion:t,monto:r,timestamp:Date.now()}),a(),!0},pagarGanadores:async e=>{await new Promise(e=>setTimeout(e,200));let t=0;return s.apuestasActuales.forEach(a=>{if(a.opcion===e){let e=s.usuarios.find(e=>e.user===a.user);if(e){let r=a.monto*s.cuota;e.saldo+=r,t+=r}}}),s.apuestasActuales=[],s.apuestasAbiertas=!1,s.tiempoRestante=0,a(),t},getApuestasActuales:async()=>(await new Promise(e=>setTimeout(e,50)),[...s.apuestasActuales])},"fightService",0,{getEstadoPelea:async()=>(await new Promise(e=>setTimeout(e,50)),{numeroPelea:s.numeroPelea,cuota:s.cuota,apuestasAbiertas:s.apuestasAbiertas,tiempoRestante:s.tiempoRestante,apuestasActuales:s.apuestasActuales}),updateNumeroPelea:async e=>(await new Promise(e=>setTimeout(e,100)),s.numeroPelea=e,a(),!0),updateCuota:async e=>(await new Promise(e=>setTimeout(e,100)),s.cuota=e,a(),!0),controlarApuestas:async(e,t)=>(await new Promise(e=>setTimeout(e,100)),s.apuestasAbiertas=e,e&&t?(s.tiempoRestante=t,s.apuestasActuales=[]):s.tiempoRestante=0,a(),!0),decrementarTiempo:()=>{s.tiempoRestante>0&&(s.tiempoRestante--,0===s.tiempoRestante&&(s.apuestasAbiertas=!1),a())}},"subscribeToChanges",0,e=>(t.push(e),()=>{t=t.filter(s=>s!==e)}),"userService",0,{createUser:async(e,t,r)=>{if(await new Promise(e=>setTimeout(e,200)),s.usuarios.find(e=>e.user===t))throw Error("El usuario ya existe");return s.usuarios.push({user:t,pass:r,nombre:e,saldo:0,rol:"cliente"}),a(),!0},getClientes:async()=>(await new Promise(e=>setTimeout(e,100)),s.usuarios.filter(e=>"cliente"===e.rol)),updateSaldo:async(e,t,r)=>{await new Promise(e=>setTimeout(e,150));let o=s.usuarios.find(s=>s.user===e);return!!o&&("sumar"===r?o.saldo+=t:o.saldo-=t,a(),!0)},getUserByUsername:async e=>(await new Promise(e=>setTimeout(e,50)),s.usuarios.find(s=>s.user===e)||null)}])},97773,e=>{"use strict";var s=e.i(72724),t=e.i(65450),a=e.i(59145),r=e.i(93172);function o(){let[e,o]=(0,t.useState)(""),[i,u]=(0,t.useState)(""),[n,l]=(0,t.useState)(""),[c,m]=(0,t.useState)(!1),p=(0,a.useRouter)(),d=async s=>{s.preventDefault(),l(""),m(!0);try{let s=await r.authService.login(e,i);if(!s)return void l("Usuario o contraseña incorrecta");r.authService.setCurrentUser(s),"admin"===s.rol?p.push("/dashboard/admin"):p.push("/dashboard/cliente")}catch(e){l("Error al iniciar sesión")}finally{m(!1)}};return(0,s.jsx)("div",{className:"login-overlay",children:(0,s.jsxs)("div",{className:"login-card",children:[(0,s.jsx)("h1",{style:{color:"#d4af37",marginBottom:"10px"},children:"ESPUELA BRAVAA"}),(0,s.jsx)("p",{style:{color:"#888",marginBottom:"20px"},children:"Ingreso Privado"}),(0,s.jsxs)("form",{onSubmit:d,children:[(0,s.jsx)("input",{type:"text",placeholder:"Usuario",value:e,onChange:e=>o(e.target.value),disabled:c,autoFocus:!0}),(0,s.jsx)("input",{type:"password",placeholder:"Contraseña",value:i,onChange:e=>u(e.target.value),disabled:c}),n&&(0,s.jsx)("p",{style:{color:"#e74c3c",fontSize:"14px",marginTop:"10px"},children:n}),(0,s.jsx)("button",{type:"submit",disabled:c,style:{background:c?"#888":"#d4af37",color:"#000",fontWeight:"bold",cursor:c?"not-allowed":"pointer"},children:c?"INGRESANDO...":"ENTRAR"})]}),(0,s.jsxs)("div",{style:{marginTop:"20px",fontSize:"12px",color:"#666"},children:[(0,s.jsx)("p",{children:"Usuarios de prueba:"}),(0,s.jsx)("p",{children:"Admin: admin / 8888"}),(0,s.jsx)("p",{children:"Cliente: cliente1 / 1234"})]})]})})}e.s(["default",()=>o])}]);